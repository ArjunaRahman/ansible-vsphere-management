---
# defaults file for ansible-vsphere-management

vsphere_datastores:
  - name: Datastore_1
    type: NFS
    path: /TANK/NFS/vSphere/Datastore_1
    host: 10.0.101.50

# Defines initial bootstrap vms to deploy from OVA/OVF. Currently this OVF
# needs to reside on the Windows host which powercli is being ran against.
vsphere_bootstrap_vms:
  - vm_name: bootstrap_vm_1
    cpus: 1
    deploy: true
    datastore: Datastore_1
    memory_mb: 512
    network_name: VSS-VLAN-101
    vapp_source_path: C:\vagrant\vApps\ubuntu_16.04_template.ovf
  - vm_name: bootstrap_vm_2
    cpus: 2
    deploy: true
    datastore: Datastore_1
    memory_mb: 1024
    network_name: VSS-VLAN-101
    vapp_source_path: C:\vagrant\vApps\ubuntu_16.04_template.ovf

vsphere_bootstrap_generate_inventory: true

vsphere_bootstrap_vms_inventory_file: ../inventory/bootstrap_vms.inv

vsphere_bootstrap_vms_wait_for_ssh: true

vsphere_dns_nameservers:
  - 10.10.10.1

# Define this on a host_vars or group_vars level. Because we look for hostvars
# variable the default variable defined here does not apply.
vsphere_enable_software_iscsi: false

vsphere_enable_ssh: true

vsphere_hosts_update: true

# Currently this needs to be defined per host in host_vars because of the way
# we iterate through the list of hosts in vsphere_management_hosts_group
vsphere_maintenance_mode: false

vsphere_ntp_servers:
  - 96.126.105.86
  - 208.73.56.29
  # - 132.163.4.101
  # - 38.229.71.1

vsphere_reboot_after_updates: false

vsphere_template_vm:
  cpus: 1
  deploy: true
  datastore: Datastore_1
  disk_gb: 72
  guest_id: ubuntu64Guest
  iso: /ISOs/ubuntu-16.04.3-server-amd64.iso
  memory_mb: 1024
  network_name: VSS-VLAN-101
  vm_name: ubuntu_16.04_template

vsphere_updates:
  - build: 4192238
    path: /vmfs/volumes/Datastore_1/ESXi600-201608001
    version: 6.0.0
  - build: 5050593
    path: /vmfs/volumes/Datastore_1/update-from-esxi6.0-6.0_update03
    version: 6.0.0
  # - build: 5050593
  #   path: /vmfs/volumes/Datastore_1/VMware-ESXi-6.0.0-Update3-5224934-HPE-600.10.1.0.73-Jul2017-depot
  #   version: 6.0.0
  - build: 5572656
    path: /vmfs/volumes/Datastore_1/ESXi600-201706001
    version: 6.0.0

vsphere_user_info:
  username: root
  password: VMw@re1

vsphere_validate_certs: false

vsphere_vswitches:
  - name: vSwitch0
    load_balancing_policy: LoadBalanceSrcId
    active_nics:
      - vmnic0
      - vmnic1
    standby_nics: []
    unused_nics: []
    portgroups:
      - name: Management Network
        inherit_failover_order: true
        vlan_id: 101
      - name: VSS-VLAN-101
        inherit_failover_order: true
        vlan_id: 101
      - name: VSS-VLAN-102
        inherit_failover_order: true
        vlan_id: 102
      - name: VSS-VLAN-201
        inherit_failover_order: true
        vlan_id: 201
    # vmkernel_ports:
    #   - name: vmk0
    #     enable_ft: false
    #     enable_mgmt: true
    #     enable_vmotion: false
    #     enable_vsan: false
    #     ip_address: '{{ ansible_host }}'
    #     portgroup_name: Management Network
    #     subnet_mask: 255.255.255.0
    #     vland_id: 101
    #     vswitch_name: vSwitch0
  - name: vSwitch1
    active_nics:
      - vmnic2
      - vmnic3
      - vmnic4
      - vmnic5
    standby_nics: []
    unused_nics: []
vsphere_management_invalid_certs_action: Ignore

vsphere_management_hosts_group: vsphere_hosts
